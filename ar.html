<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>MundialCUM 2026 - AR</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="css/style.css">

  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
</head>
<body>
  
  <noscript>
    <div class="noscript-warning">
      <h1>JavaScript es necesario</h1>
      <p>Esta experiencia de Realidad Aumentada requiere que JavaScript est√© habilitado.</p>
    </div>
  </noscript>

  <!-- Pantalla de inicio -->
  <div id="start-overlay" class="start-overlay">
    <div class="start-content">
      <h2>Experiencia de Realidad Aumentada</h2>
      <p>Apunta tu c√°mara a una de las im√°genes de los pa√≠ses para ver la magia.</p>
      <button id="start-button">‚ñ∂Ô∏è Iniciar C√°mara</button>
    </div>
  </div>

  <!-- Contenedor AR -->
  <div class="ar-container">
    <div id="loader" class="loader" style="display: none;">Cargando AR...</div>

    <a-scene
      id="ar-scene"
      mindar-image="imageTargetSrc: ./banderas/targets.mind; autoStart: false; maxTrack: 3"
      renderer="colorManagement: true, physicallyCorrectLights"
      vr-mode-ui="enabled: false"
      device-orientation-permission-ui="enabled: false"
    >
      <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>

      <!-- ASSETS -->
      <a-assets>
        <img id="bandera-mexico" src="./img/mexico.png">
        <img id="bandera-usa" src="./img/usa.png">
        <img id="bandera-canada" src="./img/canada.png">

        <video id="video-mexico" src="./videos/mexico.mp4" playsinline webkit-playsinline></video>
        <video id="video-usa" src="./videos/usa.mp4" playsinline webkit-playsinline></video>
        <video id="video-canada" src="./videos/canada.mp4" playsinline webkit-playsinline></video>
      </a-assets>

     <!-- M√âXICO -->
<a-entity mindar-image-target="targetIndex: 0">

  <!-- Imagen arriba a la derecha -->
  <a-plane src="#bandera-mexico" position="0.35 0.35 0" width="0.4" height="0.25" material="shader: standard;"></a-plane>

  <!-- Texto debajo de la imagen -->
  <a-text value="M√©xico - Sede del Mundial 2026" color="#ffffff" position="0.35 0.05 0" width="1.2" align="center"></a-text>

  <!-- Video a la izquierda del texto -->
  <a-video src="#video-mexico" position="-0.35 0.2 0" width="0.6" height="0.35" autoplay="true" loop="true" muted="true"></a-video>

</a-entity>

<!-- ESTADOS UNIDOS -->
<a-entity mindar-image-target="targetIndex: 1">

  <a-plane src="#bandera-usa" position="0.35 0.35 0" width="0.4" height="0.25" material="shader: standard;"></a-plane>
  <a-text value="Estados Unidos - Sede del Mundial 2026" color="#ffffff" position="0.35 0.05 0" width="1.2" align="center"></a-text>
  <a-video src="#video-usa" position="-0.35 0.2 0" width="0.6" height="0.35" autoplay="true" loop="true" muted="true"></a-video>

</a-entity>

<!-- CANAD√Å -->
<a-entity mindar-image-target="targetIndex: 2">

  <a-plane src="#bandera-canada" position="0.35 0.35 0" width="0.4" height="0.25" material="shader: standard;"></a-plane>
  <a-text value="Canad√° - Sede del Mundial 2026" color="#ffffff" position="0.35 0.05 0" width="1.2" align="center"></a-text>
  <a-video src="#video-canada" position="-0.35 0.2 0" width="0.6" height="0.35" autoplay="true" loop="true" muted="true"></a-video>

</a-entity>

    </a-scene>
  </div>

  <!-- Men√∫ inferior -->
  <div class="ar-menu">
    <a href="index.html"><button>üè† Volver al Inicio</button></a>
  </div>

  <script>
    // Activar c√°mara manualmente
    document.getElementById('start-button').addEventListener('click', () => {
      document.getElementById('start-overlay').style.display = 'none';
      const scene = document.querySelector('a-scene');
      const mindar = scene.components['mindar-image'];
      mindar.start();
    });
  </script>

</body>
</html>
