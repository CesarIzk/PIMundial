<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>MundialCUM 2026 - AR Interactivo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <link rel="stylesheet" href="css/ar-style.css" />

  <!-- LibrerÃ­as -->
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
</head>

<body>
  <!-- Loader -->
  <div id="loader" class="loader">
    Cargando AR...
  </div>

  <!-- Escena AR -->
  <a-scene
    id="ar-scene"
    mindar-image="imageTargetSrc: ./banderas/targets.mind; autoStart: true; maxTrack: 1;"
    renderer="colorManagement: true; physicallyCorrectLights: true;"
    vr-mode-ui="enabled: false"
    device-orientation-permission-ui="enabled: true"
  >
    <!-- Assets (videos y modelos pre-cargados) -->
    <a-assets id="ar-assets"></a-assets>

    <!-- CÃ¡mara -->
    <a-camera
      position="0 0 0"
      look-controls="enabled: false"
      cursor="fuse: false; rayOrigin: mouse;"
      raycaster="objects: .clickable"
    ></a-camera>
  </a-scene>

  <!-- Interfaz UI -->
  <div id="ui-container">
    <button id="btn-model" class="ar-btn">Modelo 3D</button>
    <button id="btn-video" class="ar-btn">Video</button>
    <button id="btn-trivia" class="ar-btn">Trivia</button>
    <button id="btn-stats" class="ar-btn">EstadÃ­sticas</button>
    <button id="btn-effect" class="ar-btn">CelebraciÃ³n</button>
  </div>

  <!-- ðŸŽžï¸ Panel de Filtros de Video -->
  <div id="filter-panel" class="filter-card hidden">
    <div class="filter-header">
      <h4>ðŸŽ¨ Filtros</h4>
      <button id="close-filters" class="close-filters-btn">âœ–</button>
    </div>
    <div id="filter-options">
      <button data-filter="none">Original</button>
      <button data-filter="grayscale(1)">Blanco y negro</button>
      <button data-filter="sepia(0.6) contrast(1.3)">Vintage</button>
      <button data-filter="hue-rotate(180deg) saturate(1.8)">NeÃ³n</button>
      <button data-filter="contrast(1.4) brightness(1.1) saturate(1.2)">CinemÃ¡tico</button>
    </div>
  </div>

  <!-- ðŸŽ¯ Contenedor de Trivia -->
  <div id="trivia-container" class="trivia-card hidden">
    <h3 id="trivia-question"></h3>
    <div id="trivia-options"></div>
    <p id="trivia-feedback"></p>
    <button id="trivia-close">Cerrar</button>
  </div>

  <!-- ðŸ“Š Contenedor de EstadÃ­sticas -->
  <div id="stats-container" class="stats-card hidden">
    <h3 id="stats-title"></h3>
    <ul id="stats-list"></ul>
    <button id="stats-close">Cerrar</button>
  </div>

  <!-- ðŸŽ¬ Videos superpuestos -->
  <!-- ðŸ“¹ Video local (con filtros CSS) -->
  <video id="overlayVideo" class="filtered-video hidden" playsinline muted></video>

  <!-- â–¶ï¸ Iframe para videos de YouTube -->
  <div id="overlayIframe" class="filtered-video hidden">
    <iframe id="youtubeFrame"
            width="100%"
            height="100%"
            frameborder="0"
            allow="autoplay; encrypted-media"
            allowfullscreen>
    </iframe>
    <a id="youtubeLink" href="#" target="_blank" class="yt-link-btn">ðŸ”— Ver en YouTube</a>
  </div>

  <script src="js/ar-logic.js" defer></script>
</body>
</html>
